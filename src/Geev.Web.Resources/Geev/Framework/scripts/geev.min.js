var geev=geev||{};(function(n){geev.appPath=geev.appPath||"/";geev.pageLoadTime=new Date;geev.toAbsAppPath=function(n){return n.indexOf("/")==0&&(n=n.substring(1)),geev.appPath+n};geev.multiTenancy=geev.multiTenancy||{};geev.multiTenancy.isEnabled=!1;geev.multiTenancy.ignoreFeatureCheckForHostUsers=!1;geev.multiTenancy.sides={TENANT:1,HOST:2};geev.multiTenancy.tenantIdCookieName="Geev.TenantId";geev.multiTenancy.setTenantIdCookie=function(n){n?geev.utils.setCookieValue(geev.multiTenancy.tenantIdCookieName,n.toString(),new Date((new Date).getTime()+15768e7),geev.appPath,geev.domain):geev.utils.deleteCookie(geev.multiTenancy.tenantIdCookieName,geev.appPath)};geev.multiTenancy.getTenantIdCookie=function(){var n=geev.utils.getCookieValue(geev.multiTenancy.tenantIdCookieName);return n?parseInt(n):null};geev.session=geev.session||{multiTenancySide:geev.multiTenancy.sides.HOST};geev.localization=geev.localization||{};geev.localization.languages=[];geev.localization.currentLanguage={};geev.localization.sources=[];geev.localization.values={};geev.localization.localize=function(n,t){var r,u,i;return(t=t||geev.localization.defaultSourceName,r=geev.localization.values[t],!r)?(geev.log.warn("Could not find localization source: "+t),n):(u=r[n],u==undefined)?n:(i=Array.prototype.slice.call(arguments,0),i.splice(1,1),i[0]=u,geev.utils.formatString.apply(this,i))};geev.localization.getSource=function(n){return function(){var t=Array.prototype.slice.call(arguments,0);return t.splice(1,0,n),geev.localization.localize.apply(this,t)}};geev.localization.isCurrentCulture=function(n){return geev.localization.currentCulture&&geev.localization.currentCulture.name&&geev.localization.currentCulture.name.indexOf(n)==0};geev.localization.defaultSourceName=undefined;geev.localization.geevWeb=geev.localization.getSource("GeevWeb");geev.auth=geev.auth||{};geev.auth.allPermissions=geev.auth.allPermissions||{};geev.auth.grantedPermissions=geev.auth.grantedPermissions||{};geev.auth.hasPermission=function(){return geev.auth.isGranted.apply(this,arguments)};geev.auth.hasAnyOfPermissions=function(){return geev.auth.isAnyGranted.apply(this,arguments)};geev.auth.hasAllOfPermissions=function(){return geev.auth.areAllGranted.apply(this,arguments)};geev.auth.isGranted=function(n){return geev.auth.allPermissions[n]!=undefined&&geev.auth.grantedPermissions[n]!=undefined};geev.auth.isAnyGranted=function(){if(!arguments||arguments.length<=0)return!0;for(var n=0;n<arguments.length;n++)if(geev.auth.isGranted(arguments[n]))return!0;return!1};geev.auth.areAllGranted=function(){if(!arguments||arguments.length<=0)return!0;for(var n=0;n<arguments.length;n++)if(!geev.auth.isGranted(arguments[n]))return!1;return!0};geev.auth.tokenCookieName="Geev.AuthToken";geev.auth.setToken=function(n,t){geev.utils.setCookieValue(geev.auth.tokenCookieName,n,t,geev.appPath,geev.domain)};geev.auth.getToken=function(){return geev.utils.getCookieValue(geev.auth.tokenCookieName)};geev.auth.clearToken=function(){geev.auth.setToken()};geev.features=geev.features||{};geev.features.allFeatures=geev.features.allFeatures||{};geev.features.get=function(n){return geev.features.allFeatures[n]};geev.features.getValue=function(n){var t=geev.features.get(n);return t==undefined?undefined:t.value};geev.features.isEnabled=function(n){var t=geev.features.getValue(n);return t=="true"||t=="True"};geev.setting=geev.setting||{};geev.setting.values=geev.setting.values||{};geev.setting.get=function(n){return geev.setting.values[n]};geev.setting.getBoolean=function(n){var t=geev.setting.get(n);return t=="true"||t=="True"};geev.setting.getInt=function(n){return parseInt(geev.setting.values[n])};geev.notifications=geev.notifications||{};geev.notifications.severity={INFO:0,SUCCESS:1,WARN:2,ERROR:3,FATAL:4};geev.notifications.userNotificationState={UNREAD:0,READ:1};geev.notifications.getUserNotificationStateAsString=function(n){switch(n){case geev.notifications.userNotificationState.READ:return"READ";case geev.notifications.userNotificationState.UNREAD:return"UNREAD";default:return geev.log.warn("Unknown user notification state value: "+n),"?"}};geev.notifications.getUiNotifyFuncBySeverity=function(n){switch(n){case geev.notifications.severity.SUCCESS:return geev.notify.success;case geev.notifications.severity.WARN:return geev.notify.warn;case geev.notifications.severity.ERROR:return geev.notify.error;case geev.notifications.severity.FATAL:return geev.notify.error;case geev.notifications.severity.INFO:default:return geev.notify.info}};geev.notifications.messageFormatters={};geev.notifications.messageFormatters["Geev.Notifications.MessageNotificationData"]=function(n){return n.notification.data.message||n.notification.data.properties.Message};geev.notifications.messageFormatters["Geev.Notifications.LocalizableMessageNotificationData"]=function(t){var f=t.notification.data.message||t.notification.data.properties.Message,i=geev.localization.localize(f.name,f.sourceName),u,r;if(t.notification.data.properties)if(n)n.each(t.notification.data.properties,function(n,t){i=i.replace("{"+n+"}",t)});else for(u=Object.keys(t.notification.data.properties),r=0;r<u.length;r++)i=i.replace("{"+u[r]+"}",t.notification.data.properties[u[r]]);return i};geev.notifications.getFormattedMessageFromUserNotification=function(n){var t=geev.notifications.messageFormatters[n.notification.data.type];return t?geev.utils.isFunction(t)?t(n):(geev.log.warn("Message formatter should be a function! It is invalid for data type: "+n.notification.data.type),"?"):(geev.log.warn("No message formatter defined for given data type: "+n.notification.data.type),"?")};geev.notifications.showUiNotifyForUserNotification=function(n,t){var i=geev.notifications.getFormattedMessageFromUserNotification(n),r=geev.notifications.getUiNotifyFuncBySeverity(n.notification.severity);r(i,undefined,t)};geev.log=geev.log||{};geev.log.levels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};geev.log.level=geev.log.levels.DEBUG;geev.log.log=function(n,t){window.console&&window.console.log&&(t!=undefined&&t<geev.log.level||console.log(n))};geev.log.debug=function(n){geev.log.log("DEBUG: ",geev.log.levels.DEBUG);geev.log.log(n,geev.log.levels.DEBUG)};geev.log.info=function(n){geev.log.log("INFO: ",geev.log.levels.INFO);geev.log.log(n,geev.log.levels.INFO)};geev.log.warn=function(n){geev.log.log("WARN: ",geev.log.levels.WARN);geev.log.log(n,geev.log.levels.WARN)};geev.log.error=function(n){geev.log.log("ERROR: ",geev.log.levels.ERROR);geev.log.log(n,geev.log.levels.ERROR)};geev.log.fatal=function(n){geev.log.log("FATAL: ",geev.log.levels.FATAL);geev.log.log(n,geev.log.levels.FATAL)};geev.notify=geev.notify||{};geev.notify.success=function(){geev.log.warn("geev.notify.success is not implemented!")};geev.notify.info=function(){geev.log.warn("geev.notify.info is not implemented!")};geev.notify.warn=function(){geev.log.warn("geev.notify.warn is not implemented!")};geev.notify.error=function(){geev.log.warn("geev.notify.error is not implemented!")};geev.message=geev.message||{};var t=function(t,i){return(alert((i||"")+" "+t),!n)?(geev.log.warn("geev.message can not return promise since jQuery is not defined!"),null):n.Deferred(function(n){n.resolve()})};geev.message.info=function(n,i){return geev.log.warn("geev.message.info is not implemented!"),t(n,i)};geev.message.success=function(n,i){return geev.log.warn("geev.message.success is not implemented!"),t(n,i)};geev.message.warn=function(n,i){return geev.log.warn("geev.message.warn is not implemented!"),t(n,i)};geev.message.error=function(n,i){return geev.log.warn("geev.message.error is not implemented!"),t(n,i)};geev.message.confirm=function(t,i,r){geev.log.warn("geev.message.confirm is not implemented!");!i||typeof i=="string"||(r=i);var u=confirm(t);return(r&&r(u),!n)?(geev.log.warn("geev.message can not return promise since jQuery is not defined!"),null):n.Deferred(function(n){n.resolve()})};geev.ui=geev.ui||{};geev.ui.block=function(){geev.log.warn("geev.ui.block is not implemented!")};geev.ui.unblock=function(){geev.log.warn("geev.ui.unblock is not implemented!")};geev.ui.setBusy=function(){geev.log.warn("geev.ui.setBusy is not implemented!")};geev.ui.clearBusy=function(){geev.log.warn("geev.ui.clearBusy is not implemented!")};geev.event=function(){var n={},t=function(t,i){n[t]||(n[t]=[]);n[t].push(i)},i=function(t,i){var f=n[t],u,r;if(f){for(u=-1,r=0;r<f.length;r++)if(f[r]===i){u=r;break}u<0||n[t].splice(u,1)}},r=function(t){var i=n[t],u,r;if(i&&i.length)for(u=Array.prototype.slice.call(arguments,1),r=0;r<i.length;r++)i[r].apply(this,u)};return{on:t,off:i,trigger:r}}();geev.utils=geev.utils||{};geev.utils.createNamespace=function(n,t){for(var r=t.split("."),i=0;i<r.length;i++)typeof n[r[i]]=="undefined"&&(n[r[i]]={}),n=n[r[i]];return n};geev.utils.replaceAll=function(n,t,i){var r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return n.replace(new RegExp(r,"g"),i)};geev.utils.formatString=function(){var t,n,i;if(arguments.length<1)return null;for(t=arguments[0],n=1;n<arguments.length;n++)i="{"+(n-1)+"}",t=geev.utils.replaceAll(t,i,arguments[n]);return t};geev.utils.toPascalCase=function(n){return!n||!n.length?n:n.length===1?n.charAt(0).toUpperCase():n.charAt(0).toUpperCase()+n.substr(1)};geev.utils.toCamelCase=function(n){return!n||!n.length?n:n.length===1?n.charAt(0).toLowerCase():n.charAt(0).toLowerCase()+n.substr(1)};geev.utils.truncateString=function(n,t){return!n||!n.length||n.length<=t?n:n.substr(0,t)};geev.utils.truncateStringWithPostfix=function(n,t,i){return(i=i||"...",!n||!n.length||n.length<=t)?n:t<=i.length?i.substr(0,t):n.substr(0,t-i.length)+i};geev.utils.isFunction=function(t){return n?n.isFunction(t):!!(t&&t.constructor&&t.call&&t.apply)};geev.utils.buildQueryString=function(n,t){function e(){r.length?r=r+"&":t&&(r=r+"?")}var r,f,i,u;for(t===undefined&&(t=!0),r="",f=0;f<n.length;++f)if(i=n[f],i.value!==undefined)if(i.value===null&&(i.value=""),e(),i.value.toJSON&&typeof i.value.toJSON=="function")r=r+i.name+"="+encodeURIComponent(i.value.toJSON());else if(Array.isArray(i.value)&&i.value.length)for(u=0;u<i.value.length;u++)u>0&&e(),r=r+i.name+"["+u+"]="+encodeURIComponent(i.value[u]);else r=r+i.name+"="+encodeURIComponent(i.value);return r};geev.utils.setCookieValue=function(n,t,i,r,u){var f=encodeURIComponent(n)+"=";t&&(f=f+encodeURIComponent(t));i&&(f=f+"; expires="+i.toUTCString());r&&(f=f+"; path="+r);u&&(f=f+"; domain="+u);document.cookie=f};geev.utils.getCookieValue=function(n){for(var i,r=document.cookie.split("; "),t=0;t<r.length;t++)if(r[t]&&(i=r[t].split("="),i.length==2)&&decodeURIComponent(i[0])===n)return decodeURIComponent(i[1]||"");return null};geev.utils.deleteCookie=function(n,t){var i=encodeURIComponent(n)+"=";i=i+"; expires="+new Date((new Date).getTime()-864e5).toUTCString();t&&(i=i+"; path="+t);document.cookie=i};geev.utils.getDomain=function(n){var t=/(https?:){0,1}\/\/((?:[\w\d-]+\.)+[\w\d]{2,})/i.exec(n);return t&&t[2]?t[2]:""};geev.timing=geev.timing||{};geev.timing.utcClockProvider=function(){var n=function(n){return Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())},t=function(){return n(new Date)},i=function(t){return t?new Date(n(t)):t};return{now:t,normalize:i,supportsMultipleTimezone:!0}}();geev.timing.localClockProvider=function(){var n=function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())},t=function(){return n(new Date)},i=function(t){return t?n(t):t};return{now:t,normalize:i,supportsMultipleTimezone:!1}}();geev.timing.unspecifiedClockProvider=function(){var n=function(){return new Date},t=function(n){return n};return{now:n,normalize:t,supportsMultipleTimezone:!1}}();geev.timing.convertToUserTimezone=function(n){var t=n.getTime(),i=t+n.getTimezoneOffset()*6e4,r=parseInt(i)+parseInt(geev.timing.timeZoneInfo.windows.currentUtcOffsetInMilliseconds);return new Date(r)};geev.clock=geev.clock||{};geev.clock.now=function(){return geev.clock.provider?geev.clock.provider.now():new Date};geev.clock.normalize=function(n){return geev.clock.provider?geev.clock.provider.normalize(n):n};geev.clock.provider=geev.timing.unspecifiedClockProvider;geev.security=geev.security||{};geev.security.antiForgery=geev.security.antiForgery||{};geev.security.antiForgery.tokenCookieName="XSRF-TOKEN";geev.security.antiForgery.tokenHeaderName="X-XSRF-TOKEN";geev.security.antiForgery.getToken=function(){return geev.utils.getCookieValue(geev.security.antiForgery.tokenCookieName)};geev.security.antiForgery.shouldSendToken=function(n){return n.crossDomain===undefined||n.crossDomain===null?geev.utils.getDomain(location.href)===geev.utils.getDomain(n.url):!n.crossDomain}})(jQuery);